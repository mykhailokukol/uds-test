# API Файлового сховища

## Текст тестового завдання:
Фреймворк: FastAPI Версія Python 3.10, СУБД PostgreSQL 15+. (без використання ORM)
Завдання: Реалізувати ендпоїнти, структура бази на розсуд розробника.

- POST /files/{dir_name} Завантаження файлу з збереженням у СУБД, та створення каталогу в бд, якщо такого ще не було створено, з поверненням id завантаженого файлу, Якщо вже такий файл було завантажено повертати id icнуючого файлу так оновити updated_at поле в бд.

- POST /files - Завантаження файлу з збереженням у СУБД до кореневого каталогу в БД, з поверненням id завантаженого файлу. Якщо вже такий файл було завантажено повертати id icнуючого файлу так оновити updated_at поле в бд.

- GET /files/{id} - Завантаження файлу за id, якщо файл з кириличною назвою, він повинен коректно зберігатися на комп'ютері з такою ж назвою, як було завантажено на сервер.

- HEAD /files/{id} - отримання інформації про файл (без завантаження).

-  GET /top - отримати топ 10 список найбільших файлів зi всiх каталогiв.

-  GET /top/{dir_name} - отримати топ 10 список найбільших файлів у конкретному каталозі.

**Додаткове завдання** - реалізувати ендпоінт для генерації звіту на основі попередньо завантаженого
файлу, а саме:
- GET /report/{id} - Завантаження створеного за допомогою програмного кода файлу Excel в якому виконується аріфметична операція над даними (+/-/*), що вказані в файлі з ідентифікатором id.

    Файл Excel має містити вхідні дані, а також результат обчислення. Обчислення має виконуватись формулою в самому Excel.

## Нотатки щодо реалізації
- Після надання свободи вибору де зберігати файли було обрано зберігати їх у корені проєкту (саме у папці `media`, цю папку вважаємо "кореневою")
- Тестове реалізовано на ОС Windows. Якщо необхідно "підняти" сервер на Unix-системі або у Docker, необхідно змінити назву пакета `psycopg2` на `psycopg2-binary` у файлі `requirements.txt`
- Перед запуском серверу необхідно створити таблиці у БД, для цього треба запустити файл `setup_db.py`